# 达人快速添加功能说明

## 功能概述

"通过链接快速添加达人"功能允许用户直接从抖音精选联盟复制达人链接，快速添加达人到系统中，无需手动输入所有信息。

## 使用步骤

### 1. 打开达人管理页面
- 登录系统后，点击左侧菜单的"达人管理"
- 在页面右上角找到"通过链接添加"按钮

### 2. 复制达人链接
1. 打开抖音精选联盟网站：https://buyin.jinritemai.com
2. 找到目标达人的详情页面
3. 复制浏览器地址栏中的完整链接

**示例链接：**
```
https://buyin.jinritemai.com/dashboard/servicehall/daren-profile?uid=v2_0a2ca7ecc7078961c28079216a63b149...
```

### 3. 粘贴链接并解析
1. 点击"通过链接添加"按钮
2. 在弹出的对话框中粘贴复制的链接
3. 点击"解析链接"按钮
4. 系统会自动提取达人的 UID

### 4. 补充达人信息
解析成功后，需要补充以下信息：
- **达人昵称**（必填）：输入达人的昵称
- **平台**：自动识别为"抖音"
- **平台 ID**：自动填充，无需修改
- **联系电话**（选填）：输入达人的联系方式
- **类目**（选填）：输入达人的主要类目，多个类目用逗号分隔
- **标签**（选填）：输入达人的标签，多个标签用逗号分隔

### 5. 保存达人
- 确认信息无误后，点击"添加达人"按钮
- 系统会自动保存达人信息到数据库

## 功能特点

### 1. 快速便捷
- 无需手动输入平台 ID
- 自动识别平台类型
- 减少输入错误

### 2. 智能解析
- 自动从链接中提取 UID
- 支持抖音精选联盟的各种链接格式
- 容错处理，提示用户链接格式错误

### 3. 配额管理
- 自动检查达人数量配额
- 达到上限时禁用添加功能
- 提示用户升级套餐

## 技术实现

### 链接解析逻辑
系统通过正则表达式从链接中提取 `uid` 参数：
```typescript
function extractDouyinUID(url: string): string | null {
  const match = url.match(/[?&]uid=([^&]+)/);
  if (match && match[1]) {
    return decodeURIComponent(match[1]);
  }
  return null;
}
```

### 数据流程
1. 用户粘贴链接 → 提取 UID
2. 预填充表单 → 用户补充信息
3. 调用 API → 保存到数据库
4. 刷新列表 → 显示新添加的达人

## 注意事项

1. **链接格式**：必须是抖音精选联盟的完整链接，包含 `uid` 参数
2. **配额限制**：达到达人数量上限时无法添加，需要升级套餐
3. **必填信息**：达人昵称是必填项，其他信息可选
4. **数据准确性**：建议在抖音精选联盟页面上确认达人信息后再添加

## 后续优化方向

### 短期优化
1. 支持批量粘贴多个链接
2. 自动从抖音 API 获取达人详细信息（需要 API 权限）
3. 支持其他平台的链接解析（快手、小红书等）

### 长期优化
1. 开发浏览器插件，直接在抖音精选联盟页面上一键添加
2. 集成 OCR 识别，支持截图添加
3. AI 智能推荐达人类目和标签

## 常见问题

### Q1: 链接解析失败怎么办？
**A:** 请检查链接是否完整，确保包含 `uid=` 参数。如果仍然失败，可以使用"添加达人"功能手动输入。

### Q2: 可以添加其他平台的达人吗？
**A:** 目前只支持抖音精选联盟的链接解析。其他平台的达人请使用"添加达人"功能手动输入。

### Q3: 达到配额上限怎么办？
**A:** 请联系管理员升级套餐，或者删除不再使用的达人释放配额。

### Q4: 添加的达人信息可以修改吗？
**A:** 可以。在达人列表中点击"编辑"按钮即可修改达人信息。

## 相关文档

- [达人管理功能说明](./达人端口.md)
- [批量导入功能说明](../样品管理功能说明.md)
- [套餐配置说明](../最终需求确认.md)
