# 🧪 测试一键同步功能

## 测试目标

验证用户可以通过点击按钮轻松切换账号，数据会正确进入对应的账号。

## 测试前准备

1. ✅ 前端和后端都在运行
2. ✅ Chrome 插件已安装
3. ✅ 重新加载插件（chrome://extensions/ → 刷新按钮）
4. ✅ 刷新前端页面（确保新代码生效）

## 测试步骤

### 测试1：测试002账号采集

**步骤：**

1. **登录测试002账号**
   - 打开前端页面：http://localhost:5173
   - 邮箱：staff@demo.com
   - 密码：staff123
   - 确认右上角显示"测试002"或"李商务"

2. **同步 Token 到插件**
   - 点击右上角的 **"同步插件"** 按钮
   - 看到提示："✅ Token 已复制到剪贴板！"
   - 提示中有详细的下一步操作说明

3. **更新插件配置**
   - 点击 Chrome 工具栏的 **Zilo 插件图标**
   - 点击 **"⚙️ 配置设置"**
   - 点击 **"📋 从剪贴板粘贴 Token"**
   - 看到提示："Token 已粘贴！请点击'保存配置'"
   - 点击 **"💾 保存配置"**
   - 看到提示："配置已保存"
   - 点击 **"← 返回"**

4. **采集达人**
   - 打开达人详情页（任意一个）
   - 点击 **"添加到 Zilo"** 按钮
   - 看到提示："达人采集成功！"

5. **验证数据**
   - 回到前端页面
   - 点击左侧菜单 **"达人管理"**
   - 应该能看到刚才采集的达人 ✅

### 测试2：切换到张老板账号

**步骤：**

1. **退出测试002，登录张老板**
   - 点击右上角头像 → 退出登录
   - 邮箱：owner@demo.com
   - 密码：owner123
   - 确认右上角显示"张老板"

2. **同步 Token 到插件**
   - 点击右上角的 **"同步插件"** 按钮
   - 看到提示："✅ Token 已复制到剪贴板！"

3. **更新插件配置**
   - 点击 Chrome 工具栏的 **Zilo 插件图标**
   - 点击 **"⚙️ 配置设置"**
   - 点击 **"📋 从剪贴板粘贴 Token"**
   - 点击 **"💾 保存配置"**
   - 点击 **"← 返回"**

4. **采集另一个达人**
   - 打开另一个达人详情页
   - 点击 **"添加到 Zilo"** 按钮
   - 看到提示："达人采集成功！"

5. **验证数据隔离**
   - 回到前端页面（张老板账号）
   - 点击左侧菜单 **"达人管理"**
   - 应该能看到刚才采集的达人 ✅
   - **不应该**看到测试002采集的达人 ✅

6. **切换回测试002验证**
   - 退出张老板，重新登录测试002
   - 查看达人列表
   - 应该只看到测试002采集的达人 ✅
   - **不应该**看到张老板采集的达人 ✅

## 预期结果

- ✅ 点击"同步插件"按钮后，Token 自动复制到剪贴板
- ✅ 点击"从剪贴板粘贴"按钮后，Token 自动填入输入框
- ✅ 保存后，插件使用新的 Token
- ✅ 采集的数据进入正确的账号
- ✅ 不同账号的数据完全隔离

## 常见问题排查

### 问题1：点击"同步插件"没反应

**排查：**
1. 打开浏览器控制台（F12）
2. 查看是否有错误信息
3. 确认是否已登录

**解决：**
- 刷新页面重试
- 确保前端代码已更新

### 问题2：点击"从剪贴板粘贴"提示"剪贴板为空"

**排查：**
1. 确认是否先点击了"同步插件"
2. 确认是否复制了其他内容

**解决：**
- 重新点击"同步插件"按钮
- 立即点击"从剪贴板粘贴"

### 问题3：数据还是进入错误的账号

**排查：**
1. 查看前端页面右上角显示的账号名
2. 查看插件是否保存成功
3. 查看浏览器控制台的日志

**解决：**
1. 重新执行同步流程
2. 重新加载插件
3. 清除浏览器缓存

## 测试报告模板

```
测试时间：____年__月__日 __:__

测试环境：
- 前端版本：______
- 后端版本：______
- 插件版本：______
- 浏览器：Chrome ______

测试结果：
□ 测试1：测试002账号采集 - 通过/失败
□ 测试2：切换到张老板账号 - 通过/失败
□ 数据隔离验证 - 通过/失败

问题记录：
1. _______________
2. _______________

总结：
_______________
```

---

**测试人员**: _______________
**测试日期**: 2026年1月6日
**测试状态**: 待测试
