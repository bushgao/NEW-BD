# 联系方式提取功能修复完成

## 修复内容

### 问题
- 之前使用 API 方式获取联系方式，但 URL 中没有 `ewid` 参数
- 即使用户点击眼睛图标显示了联系方式，也无法采集

### 解决方案
改为从页面 DOM 直接提取联系方式：

1. **主要匹配**：使用正则表达式匹配页面文本
   - 手机号：`/达人手机号[：:]\s*([^\n]+)/`
   - 微信号：`/达人微信号[：:]\s*([^\n]+)/`

2. **宽松匹配**：如果主要匹配失败，使用更宽松的模式
   - 手机号：`/手机号[：:]\s*([^\n]+)/`
   - 微信号：`/微信号[：:]\s*([^\n]+)/`

3. **提取逻辑**：
   - 从 `document.body.innerText` 获取所有页面文本
   - 使用正则表达式提取冒号后面的内容
   - 去除首尾空格

## 测试步骤

### 1. 重新加载插件
1. 打开 Chrome 扩展管理页面：`chrome://extensions/`
2. 找到 "Zilo 达人采集助手"
3. 点击刷新图标 🔄

### 2. 测试提取功能
1. 打开抖音达人详情页
2. **重要**：点击眼睛图标显示联系方式
3. 打开浏览器控制台（F12）
4. 复制并运行 `chrome-extension/测试联系方式提取.js` 中的代码
5. 查看控制台输出，确认是否成功提取

### 3. 测试完整采集流程
1. 确认联系方式已显示在页面上
2. 点击 "添加到 Zilo" 按钮
3. 查看控制台日志，确认：
   - `[Zilo] 找到手机号: xxx`
   - `[Zilo] 找到微信号: xxx`
4. 检查后端数据库，确认数据已保存

## 注意事项

1. **必须先点击眼睛图标**：联系方式默认是隐藏的，必须先点击显示
2. **支持的格式**：
   - 手机号：`15784254551(+8081)` 等各种格式
   - 微信号：`zzcdb2121` 等各种格式
3. **调试方法**：使用测试脚本快速验证提取是否成功

## 修改的文件
- `chrome-extension/content.js` - 修改 `fetchContactInfo()` 函数

## 新增的文件
- `chrome-extension/测试联系方式提取.js` - 快速测试脚本
- `chrome-extension/联系方式提取修复完成.md` - 本文档
