# 快速启动指南 - 2026-01-10

## 🎯 当前状态

### ✅ 所有服务已启动并运行

| 服务 | 状态 | 地址 | 说明 |
|------|------|------|------|
| 数据库 | 🟢 运行中 | localhost:5432 | PostgreSQL 15 |
| 后端 | 🟢 运行中 | http://localhost:3000 | Express + Prisma |
| 前端 | 🟢 运行中 | http://localhost:5173 | React + Vite |

## 🚀 访问应用

### 主要入口
```
http://localhost:5173/
```

### 测试账号

#### 工厂老板账号
- 邮箱: `factory@example.com`
- 密码: `password123`
- 权限: 查看全局数据、管理商务团队

#### 商务人员账号
- 邮箱: `business@example.com`
- 密码: `password123`
- 权限: 管理自己的合作、达人

#### 平台管理员账号
- 邮箱: `admin@example.com`
- 密码: `password123`
- 权限: 管理工厂、配置套餐

## 🎨 最新更新

### 莫兰迪配色统一 (2026-01-10)

**修复内容**:
- ✅ 解决了颜色定义冲突问题
- ✅ 统一全站配色为莫兰迪色系
- ✅ 所有组件视觉风格协调一致

**配色方案**:
```
LEAD (线索)        → #B8B8B8  浅灰
CONTACTED (已建联) → #8EACBB  雾霾蓝
QUOTED (已报价)    → #A89BB9  薰衣草紫
SAMPLED (已寄样)   → #D4A574  驼色
SCHEDULED (已排期) → #7FA99B  鼠尾草绿
PUBLISHED (已发布) → #9CAF88  橄榄绿
REVIEWED (已复盘)  → #C89B9C  豆沙粉
```

## 🔧 服务管理

### 查看运行状态
```bash
# 查看所有进程
docker ps

# 查看后端日志
# 在 Kiro 中使用 getProcessOutput 工具，processId: 2

# 查看前端日志
# 在 Kiro 中使用 getProcessOutput 工具，processId: 3
```

### 重启服务

#### 重启数据库
```bash
docker-compose restart
```

#### 重启后端
```bash
# 停止当前进程
# 在 Kiro 中使用 controlPwshProcess，action: "stop", processId: 2

# 启动新进程
cd packages/backend
npm run dev
```

#### 重启前端
```bash
# 停止当前进程
# 在 Kiro 中使用 controlPwshProcess，action: "stop", processId: 3

# 启动新进程
cd packages/frontend
npm run dev
```

## 📊 健康检查

### 后端健康检查
```bash
# 基础健康检查
curl http://localhost:3000/health

# 数据库连接检查
curl http://localhost:3000/health/db
```

### 前端访问测试
```bash
# 打开浏览器访问
http://localhost:5173/
```

## 🐛 常见问题

### 1. 前端无法连接后端

**症状**: 前端显示网络错误或 CORS 错误

**解决方案**:
```bash
# 检查后端是否运行
curl http://localhost:3000/health

# 检查 CORS 配置
# 确保 packages/backend/.env 中 CORS_ORIGIN="http://localhost:5173"
```

### 2. 数据库连接失败

**症状**: 后端启动失败，提示数据库连接错误

**解决方案**:
```bash
# 检查数据库容器状态
docker ps

# 重启数据库
docker-compose restart

# 检查数据库连接
docker exec -it ics-postgres psql -U postgres -d zilo_dev
```

### 3. 端口被占用

**症状**: 启动服务时提示端口已被使用

**解决方案**:
```bash
# 查找占用端口的进程 (Windows)
netstat -ano | findstr :3000
netstat -ano | findstr :5173

# 结束进程
taskkill /PID <进程ID> /F
```

### 4. 页面显示空白

**症状**: 登录后页面空白或显示错误

**解决方案**:
1. 打开浏览器开发者工具 (F12)
2. 查看 Console 标签页的错误信息
3. 查看 Network 标签页的请求状态
4. 清除浏览器缓存和 LocalStorage
5. 刷新页面 (Ctrl + F5)

## 📁 项目结构

```
NEW BD/
├── packages/
│   ├── backend/          # 后端服务
│   │   ├── src/
│   │   ├── prisma/       # 数据库模型
│   │   └── .env          # 环境变量
│   ├── frontend/         # 前端应用
│   │   ├── src/
│   │   │   ├── pages/    # 页面组件
│   │   │   ├── services/ # API 服务
│   │   │   └── theme/    # 主题配置
│   │   └── package.json
│   └── shared/           # 共享类型
├── docker-compose.yml    # 数据库配置
└── README.md
```

## 🔐 环境变量

### 后端 (.env)
```env
DATABASE_URL="postgresql://postgres:postgres@127.0.0.1:5432/zilo_dev"
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
PORT=3000
CORS_ORIGIN="http://localhost:5173"
```

## 📚 相关文档

- [修复完成-莫兰迪配色统一.md](./修复完成-莫兰迪配色统一.md) - 最新修复详情
- [莫兰迪配色优化完成.md](./莫兰迪配色优化完成.md) - 配色方案说明
- [项目全面汇总报告-2026-01-08.md](./项目全面汇总报告-2026-01-08.md) - 项目整体情况

## 💡 开发提示

### 修改代码后
- 后端: 自动重启 (tsx watch)
- 前端: 自动热更新 (Vite HMR)
- 数据库: 需要运行 `npx prisma migrate dev`

### 添加新功能
1. 更新 Prisma schema (如需要)
2. 运行数据库迁移
3. 更新后端 API
4. 更新前端服务和组件
5. 测试功能

### 代码规范
- TypeScript 严格模式
- ESLint + Prettier
- 组件使用 Ant Design
- 状态管理使用 Zustand

## 🎉 开始使用

1. **打开浏览器**: http://localhost:5173/
2. **登录系统**: 使用测试账号
3. **体验新配色**: 查看 Dashboard 和 Pipeline
4. **享受开发**: 修改代码，实时预览

---

**祝开发愉快！** 🚀

如有问题，请查看相关文档或联系开发团队。
