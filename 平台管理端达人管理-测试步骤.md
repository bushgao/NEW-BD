# 平台管理端达人管理功能 - 测试步骤

## 测试环境状态

✅ **后端服务**: 运行中 (http://localhost:3000)
✅ **前端服务**: 运行中 (http://localhost:5173)
✅ **数据库迁移**: 已完成
✅ **类型定义**: 已更新并编译

## 测试步骤

### 1. 登录平台管理员账号

**操作步骤**:
1. 打开浏览器访问: http://localhost:5173
2. 使用平台管理员账号登录:
   - 邮箱: `admin@example.com`
   - 密码: `admin123`

**预期结果**:
- 成功登录并跳转到平台管理页面

---

### 2. 查看达人统计数据

**操作步骤**:
1. 登录后默认显示"数据概览"标签页
2. 查看统计卡片显示的数据

**预期结果**:
- 显示总达人数、未认证、已认证、认证失败的统计数字
- 显示来源分布（平台添加、工厂添加、商务添加）
- 显示平台分布（抖音、快手、小红书、其他）
- 显示来源质量分析表格
- 显示工厂达人排名 Top 10

**测试数据**:
- 当前数据库有 16 个达人
- 所有达人默认状态为"未认证"
- 所有达人默认来源为"工厂添加"

---

### 3. 切换到达人管理标签页

**操作步骤**:
1. 点击"达人管理"标签页

**预期结果**:
- 显示达人列表表格
- 显示搜索和筛选控件
- 表格包含以下列：
  - 昵称
  - 平台
  - 账号ID
  - 粉丝数
  - 所属工厂
  - 来源
  - 认证状态
  - 添加人
  - 操作（查看、认证按钮）

---

### 4. 测试搜索功能

**操作步骤**:
1. 在搜索框输入达人昵称关键词
2. 点击"搜索"按钮

**预期结果**:
- 列表刷新，只显示匹配的达人
- 分页信息正确更新

**测试用例**:
- 搜索"李"，应该显示包含"李"的达人
- 搜索不存在的关键词，应该显示空列表

---

### 5. 测试筛选功能

**操作步骤**:
1. 使用平台下拉框选择"抖音"
2. 点击"搜索"按钮
3. 点击"重置"按钮

**预期结果**:
- 筛选后只显示抖音平台的达人
- 重置后恢复显示所有达人

**测试用例**:
- 筛选平台：抖音、快手、小红书
- 筛选来源类型：平台添加、工厂添加、商务添加
- 筛选认证状态：未认证、已认证、认证失败
- 组合筛选：同时选择多个条件

---

### 6. 测试查看达人详情

**操作步骤**:
1. 点击任意达人行的"查看"按钮

**预期结果**:
- 弹出达人详情模态框
- 显示4个标签页：基本信息、来源信息、认证信息、合作记录
- 基本信息标签页显示：
  - 昵称、平台、账号ID
  - 粉丝数、手机号、微信号
  - 分类、标签、备注
- 来源信息标签页显示：
  - 所属工厂、来源类型
  - 添加人、添加人角色
  - 添加时间
- 认证信息标签页显示：
  - 认证状态、认证时间
  - 认证人、认证备注
  - 认证历史时间线（如果有）
- 合作记录标签页显示：
  - 合作列表或"暂无合作记录"

---

### 7. 测试达人认证功能

**操作步骤**:
1. 找到一个"未认证"状态的达人
2. 点击"认证"按钮
3. 在认证模态框中：
   - 选择"通过"
   - 填写备注（可选）
   - 点击"提交"

**预期结果**:
- 显示"认证操作成功"提示
- 模态框关闭
- 列表自动刷新
- 该达人的认证状态变为"已认证"
- 统计数据自动更新

**测试用例**:
- 认证通过（不填备注）
- 认证通过（填写备注）
- 认证拒绝（必须填写原因）
- 认证拒绝（不填原因应该提示错误）

---

### 8. 测试认证拒绝功能

**操作步骤**:
1. 找到另一个"未认证"状态的达人
2. 点击"认证"按钮
3. 在认证模态框中：
   - 选择"拒绝"
   - 不填写备注，点击"提交"

**预期结果**:
- 显示验证错误："拒绝时必须填写原因"

**继续操作**:
4. 填写拒绝原因："信息不完整"
5. 点击"提交"

**预期结果**:
- 显示"认证操作成功"提示
- 该达人的认证状态变为"认证失败"
- 统计数据自动更新

---

### 9. 测试认证历史记录

**操作步骤**:
1. 查看刚才认证过的达人详情
2. 切换到"认证信息"标签页

**预期结果**:
- 显示最新的认证状态
- 显示认证时间和认证人
- 显示认证备注
- 显示认证历史时间线，包含：
  - 操作类型（认证通过/认证拒绝）
  - 操作人
  - 操作时间
  - 备注信息

---

### 10. 测试导出功能

**操作步骤**:
1. 设置一些筛选条件（可选）
2. 点击"导出"按钮

**预期结果**:
- 显示"导出成功"提示
- 浏览器下载一个Excel文件
- 文件包含当前筛选条件下的所有达人数据

---

### 11. 测试分页功能

**操作步骤**:
1. 如果达人总数超过20个，测试翻页
2. 点击页码切换页面
3. 修改每页显示数量

**预期结果**:
- 翻页正常工作
- 显示正确的数据范围
- 分页信息正确显示

---

## 测试检查清单

### 功能测试
- [ ] 统计数据正确显示
- [ ] 达人列表正确加载
- [ ] 搜索功能正常
- [ ] 筛选功能正常
- [ ] 查看详情功能正常
- [ ] 认证通过功能正常
- [ ] 认证拒绝功能正常
- [ ] 认证历史记录正常
- [ ] 导出功能正常
- [ ] 分页功能正常

### UI测试
- [ ] 页面布局正常
- [ ] 响应式设计正常
- [ ] 加载状态显示正常
- [ ] 错误提示显示正常
- [ ] 成功提示显示正常
- [ ] 模态框显示正常
- [ ] 表格显示正常
- [ ] 标签页切换正常

### 数据测试
- [ ] 统计数据准确
- [ ] 列表数据完整
- [ ] 详情数据完整
- [ ] 认证状态更新正确
- [ ] 认证历史记录正确
- [ ] 筛选结果正确
- [ ] 搜索结果正确

---

## 已知问题

无

---

## 测试环境信息

- **前端地址**: http://localhost:5173
- **后端地址**: http://localhost:3000
- **测试账号**: admin@example.com / admin123
- **数据库**: PostgreSQL (本地)
- **测试时间**: 2026-01-06

---

## 下一步

完成测试后，请记录：
1. 所有测试用例的执行结果
2. 发现的任何问题或bug
3. 改进建议
