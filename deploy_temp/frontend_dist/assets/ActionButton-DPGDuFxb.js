import{r as s,ao as k}from"./index-CT9F3akh.js";import{B as x,c as E}from"./button-BCSOJgfZ.js";const a=n=>typeof(n==null?void 0:n.then)=="function",S=n=>{const{type:p,children:v,prefixCls:m,buttonProps:h,close:l,autoFocus:f,emitEvent:y,isSilent:i,quitOnNullishReturnValue:C,actionFn:o}=n,r=s.useRef(!1),d=s.useRef(null),[R,c]=k(!1),u=(...t)=>{l==null||l.apply(void 0,t)};s.useEffect(()=>{let t=null;return f&&(t=setTimeout(()=>{var e;(e=d.current)===null||e===void 0||e.focus({preventScroll:!0})})),()=>{t&&clearTimeout(t)}},[f]);const b=t=>{a(t)&&(c(!0),t.then((...e)=>{c(!1,!0),u.apply(void 0,e),r.current=!1},e=>{if(c(!1,!0),r.current=!1,!(i!=null&&i()))return Promise.reject(e)}))},g=t=>{if(r.current)return;if(r.current=!0,!o){u();return}let e;if(y){if(e=o(t),C&&!a(e)){r.current=!1,u(t);return}}else if(o.length)e=o(l),r.current=!1;else if(e=o(),!a(e)){u();return}b(e)};return s.createElement(x,Object.assign({},E(p),{onClick:g,loading:R,prefixCls:m},h,{ref:d}),v)};export{S as A};
