import{r as x,u as h,ae as y,j as e,a as j,L as b}from"./index-CT9F3akh.js";import{l as I}from"./influencer-portal.service-6g17WHCp.js";import{F as t}from"./index-gbW5J2sR.js";import{C as R}from"./index-DSHlf2Aa.js";import{T as k}from"./index-WSGRBNKI.js";import{I as m}from"./index-htVVH06X.js";import{R as v}from"./PhoneOutlined-CErfRUZT.js";import{R as S}from"./LockOutlined-DjHtpiEB.js";import{B as o}from"./button-BCSOJgfZ.js";import{R as w}from"./UserAddOutlined-BtszauH8.js";import{R as C}from"./ArrowLeftOutlined-CvYhJAPh.js";import{s}from"./index-DBkC0DaV.js";import"./TextArea-Dl3y1VrD.js";import"./Input-UrGHJeeK.js";import"./row-DVjUYxl3.js";import"./index-BoArUKpt.js";import"./useBreakpoint--6XYT0_e.js";import"./QuestionCircleOutlined-CZssou_a.js";import"./Skeleton-DdNqplha.js";import"./index-DiUoGV2L.js";import"./EllipsisOutlined-Bv641ndy.js";import"./Overflow-Gz7ZFAqv.js";import"./PlusOutlined-oMbGAVrA.js";import"./UnstableContext-DKFbPjPy.js";import"./SearchOutlined-CyHaylvE.js";import"./index-Do9OUhYv.js";const{Title:T,Text:B}=k,te=()=>{const[c,i]=x.useState(!1),a=h(),{setAuth:p}=y(),[d]=t.useForm(),f=async n=>{var l;i(!0);try{const r=await I(`${n.phone}@phone.local`,n.password);if(r.success&&r.data){const{contact:g,tokens:u}=r.data;p(g,u),s.success("登录成功"),a("/influencer-portal",{replace:!0})}else s.error(((l=r.error)==null?void 0:l.message)||"登录失败")}catch{s.error("登录失败，请稍后重试")}finally{i(!1)}};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #722ed1 0%, #eb2f96 100%)",padding:24},children:e.jsxs(R,{style:{width:"100%",maxWidth:420,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",borderRadius:8},bodyStyle:{padding:"40px 32px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[e.jsx(T,{level:2,style:{marginBottom:8,color:"#722ed1"},children:"达人端口"}),e.jsx(B,{type:"secondary",children:"查看您在各品牌的样品和合作信息"})]}),e.jsxs(t,{form:d,name:"influencer-login",onFinish:f,autoComplete:"off",size:"large",layout:"vertical",children:[e.jsx(t.Item,{name:"phone",rules:[{required:!0,message:"请输入手机号"},{pattern:/^1[3-9]\d{9}$/,message:"手机号格式不正确"}],children:e.jsx(m,{prefix:e.jsx(v,{style:{color:"#bfbfbf"}}),placeholder:"手机号"})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少6位"}],children:e.jsx(m.Password,{prefix:e.jsx(S,{style:{color:"#bfbfbf"}}),placeholder:"密码"})}),e.jsx(t.Item,{style:{marginBottom:16},children:e.jsx(o,{type:"primary",htmlType:"submit",loading:c,block:!0,style:{height:44,background:"#722ed1",borderColor:"#722ed1"},children:"登录"})})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:24},children:[e.jsx(o,{type:"link",icon:e.jsx(w,{}),onClick:()=>{j.getState().logout(),localStorage.removeItem("auth-storage"),a("/register")},children:"注册达人账号"}),e.jsx(b,{to:"/login",children:e.jsx(o,{type:"link",icon:e.jsx(C,{}),children:"返回品牌/商务登录"})})]})]})})};export{te as default};
