import{r as h,j as e}from"./index-CT9F3akh.js";import{d as ie}from"./sample.service-Cb3fiYXC.js";import{R as a,C as s}from"./row-DVjUYxl3.js";import{S as W}from"./index-B4IHrhqI.js";import{R as re}from"./CalculatorOutlined-Jy3W85f7.js";import{T as ne}from"./index-WSGRBNKI.js";import{S as oe}from"./index-2ffhpgky.js";import{C as g}from"./index-DSHlf2Aa.js";import{T as d}from"./TextArea-Dl3y1VrD.js";import{R as c}from"./QuestionCircleOutlined-CZssou_a.js";import{T as x}from"./index-CGanNrki.js";import{D as S}from"./index-N65tUqUy.js";import{R as le}from"./ShoppingOutlined-ozK1Xcir.js";import{S as ae}from"./index-DfnzXlZl.js";import{S as b}from"./index-C_yDWHqX.js";import{A as de}from"./index-C7lyzjCv.js";import{R as ce}from"./WarningOutlined-L-gPvlvp.js";import{R as G}from"./RiseOutlined-BfYH29d9.js";import{R as xe}from"./CheckCircleOutlined-eJc7nheY.js";import{R as pe}from"./FallOutlined-BrNBN5A1.js";import{s as he}from"./index-DBkC0DaV.js";import"./api-W_2ufh2E.js";import"./index-BoArUKpt.js";import"./useBreakpoint--6XYT0_e.js";import"./index-Do9OUhYv.js";import"./UnstableContext-DKFbPjPy.js";import"./Skeleton-DdNqplha.js";import"./index-DiUoGV2L.js";import"./EllipsisOutlined-Bv641ndy.js";import"./Overflow-Gz7ZFAqv.js";import"./PlusOutlined-oMbGAVrA.js";import"./PurePanel-DcW2x34y.js";import"./SearchOutlined-CyHaylvE.js";const{Title:f,Text:i,Paragraph:me}=ne,je={sampleCost:0,packagingCost:0,shippingCost:0,pitFee:0,commissionRate:20,platformFeeRate:6,taxRate:0,unitCost:0,unitPrice:0,returnRate:30,hiddenCost:0,expectedSales:0},Xe=()=>{const[r,I]=h.useState(je),[z,H]=h.useState(!1),[R,N]=h.useState([]),[V,q]=h.useState(null),[J,T]=h.useState(!1);h.useEffect(()=>{(async()=>{T(!0);try{const o=await ie({pageSize:100});N(o.data)}catch(o){console.error("Failed to load samples:",o)}finally{T(!1)}})()},[]);const K=t=>{if(q(t),t){const o=R.find(p=>p.id===t);o&&(I(p=>({...p,unitCost:o.unitCost/100,unitPrice:o.retailPrice/100,sampleCost:o.unitCost/100})),he.success(`å·²åŠ è½½äº§å“: ${o.name}`))}},l=(t,o)=>{I(p=>({...p,[t]:o??0}))},n=h.useMemo(()=>{const{sampleCost:t,packagingCost:o,shippingCost:p,pitFee:Q,commissionRate:A,platformFeeRate:L,taxRate:P,unitCost:U,unitPrice:$,returnRate:X,hiddenCost:Y,expectedSales:j}=r,y=t+o+p+Q+Y,v=$>0?U/$*100:0,E=(A+L+P+v)/100,C=1-X/100,w=C-E,u=w>0?y/w:1/0,M=j*C,O=j*(v/100),D=j*(A/100),Z=j*(L/100),_=j*(P/100),F=O+D+Z+_,B=y+F,k=M-y-F,ee=B>0?k/B:0,te=[{label:"ä¿å®ˆ",sales:u*1.2,description:"å¾®åˆ©ï¼Œå®‰å…¨è¾¹é™…"},{label:"ç›®æ ‡",sales:u*1.5,description:"ROIçº¦0.25"},{label:"ç†æƒ³",sales:u*2,description:"ROIçº¦0.5"}].filter(se=>isFinite(se.sales));return{fixedCost:y,productCostRate:v,variableCostRate:E,netSalesRate:C,breakEvenSales:u,netSales:M,productCostTotal:O,commissionTotal:D,variableCost:F,totalCost:B,profit:k,roi:ee,isProfitable:k>0,profitMarginRate:w,bulkScenarios:te}},[r]),m=(t=>t>=1?{color:"#52c41a",icon:e.jsx(G,{}),text:"é«˜å›æŠ¥"}:t>=.5?{color:"#1890ff",icon:e.jsx(G,{}),text:"è‰¯å¥½"}:t>=0?{color:"#faad14",icon:e.jsx(xe,{}),text:"å¾®åˆ©"}:{color:"#ff4d4f",icon:e.jsx(pe,{}),text:"äºæŸ"})(n.roi);return e.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",position:"relative",padding:"24px",margin:"-24px"},children:[e.jsx("div",{style:{position:"absolute",top:"10%",left:"5%",width:"400px",height:"400px",background:"linear-gradient(135deg, rgba(90, 200, 250, 0.08), rgba(191, 90, 242, 0.08))",borderRadius:"50%",filter:"blur(80px)",pointerEvents:"none",zIndex:0}}),e.jsx("div",{style:{position:"absolute",top:"40%",right:"10%",width:"500px",height:"500px",background:"linear-gradient(135deg, rgba(12, 140, 233, 0.08), rgba(100, 200, 255, 0.08))",borderRadius:"50%",filter:"blur(100px)",pointerEvents:"none",zIndex:0}}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs(a,{justify:"space-between",align:"middle",style:{marginBottom:12},children:[e.jsxs(s,{children:[e.jsxs(W,{children:[e.jsx(re,{style:{fontSize:28,color:"#0c8ce9"}}),e.jsx(f,{level:3,style:{margin:0},children:"ROI æµ‹ç®—å·¥å…·"})]}),e.jsx(me,{type:"secondary",style:{marginTop:8,marginBottom:0},children:"è¾“å…¥å„é¡¹æˆæœ¬ï¼Œå¿«é€Ÿé¢„ä¼°æŠ•èµ„å›æŠ¥ç‡ï¼Œå¸®åŠ©æ‚¨åšå‡ºæ›´æ˜æ™ºçš„åˆä½œå†³ç­–"})]}),e.jsx(s,{children:e.jsxs(W,{children:[e.jsx(i,{type:"secondary",children:"é«˜çº§é€‰é¡¹"}),e.jsx(oe,{checked:z,onChange:H})]})})]}),e.jsxs(a,{gutter:[16,12],children:[e.jsx(s,{xs:24,lg:12,children:e.jsxs(g,{title:"ğŸ’° æˆæœ¬è¾“å…¥",style:{background:"#fff",border:"1px solid #f0f0f0",borderRadius:6,boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},bodyStyle:{padding:"16px"},children:[e.jsx(f,{level:5,style:{marginBottom:8},children:"å›ºå®šæˆæœ¬"}),e.jsxs(a,{gutter:[12,12],children:[e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["æ ·å“æˆæœ¬",e.jsx(d,{title:"æä¾›ç»™è¾¾äººç”¨äºå±•ç¤ºçš„æ ·å“ä»·å€¼",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.sampleCost,onChange:t=>l("sampleCost",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["å‘ä½è´¹",e.jsx(d,{title:"è¾¾äººæ”¶å–çš„å›ºå®šæ›å…‰è´¹ç”¨",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.pitFee,onChange:t=>l("pitFee",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["å¿«é€’æˆæœ¬",e.jsx(d,{title:"å¯„é€æ ·å“çš„è¿è´¹",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.shippingCost,onChange:t=>l("shippingCost",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["åŒ…è£…æˆæœ¬",e.jsx(d,{title:"æ ·å“åŒ…è£…è´¹ç”¨",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.packagingCost,onChange:t=>l("packagingCost",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]})]}),z&&e.jsx(a,{gutter:[12,12],style:{marginTop:12},children:e.jsxs(s,{span:24,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["éšå½¢æˆæœ¬",e.jsx(d,{title:"å…¶ä»–éšè—æˆæœ¬ï¼Œå¦‚äººåŠ›æ—¶é—´ã€æ²Ÿé€šæˆæœ¬ç­‰",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.hiddenCost,onChange:t=>l("hiddenCost",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]})}),e.jsx(S,{style:{margin:"12px 0"}}),e.jsxs(f,{level:5,style:{marginBottom:8},children:[e.jsx(le,{style:{marginRight:8}}),"äº§å“ä¿¡æ¯"]}),R.length>0&&e.jsx(a,{gutter:[16,16],style:{marginBottom:16},children:e.jsxs(s,{span:24,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["ä»æ ·å“åº“é€‰æ‹©",e.jsx(d,{title:"é€‰æ‹©å·²æœ‰äº§å“å¯è‡ªåŠ¨å¡«å……æˆæœ¬å’Œå”®ä»·",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(ae,{value:V,onChange:K,placeholder:"é€‰æ‹©å·²æœ‰äº§å“ï¼ˆå¯é€‰ï¼‰",allowClear:!0,loading:J,style:{width:"100%"},options:R.map(t=>({value:t.id,label:`${t.name} (${t.sku}) - Â¥${(t.retailPrice/100).toFixed(2)}`}))})]})}),e.jsxs(a,{gutter:[12,12],children:[e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["å•å“æˆæœ¬",e.jsx(d,{title:"ç”Ÿäº§æˆ–é‡‡è´­ä¸€ä¸ªäº§å“çš„æˆæœ¬",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.unitCost,onChange:t=>l("unitCost",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["å•å“å”®ä»·",e.jsx(d,{title:"äº§å“çš„é”€å”®ä»·æ ¼",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.unitPrice,onChange:t=>l("unitPrice",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%"},placeholder:"0"})]}),r.unitPrice>0&&e.jsx(s,{span:24,children:e.jsxs(i,{type:"secondary",style:{fontSize:12},children:["äº§å“æˆæœ¬ç‡ï¼š",n.productCostRate.toFixed(1),"%ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰"]})})]}),e.jsx(S,{style:{margin:"12px 0"}}),e.jsx(f,{level:5,style:{marginBottom:8},children:"äº¤æ˜“å‚æ•°"}),e.jsxs(a,{gutter:[12,12],children:[e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["ä½£é‡‘ç‡",e.jsx(d,{title:"è¾¾äººæŠ½æˆæ¯”ä¾‹ï¼Œä¸€èˆ¬5%-50%",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.commissionRate,onChange:t=>l("commissionRate",t),suffix:"%",min:0,max:100,precision:1,style:{width:"100%"},placeholder:"20"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["é€€è´§ç‡",e.jsx(d,{title:"ç›´æ’­ç”µå•†é€šå¸¸35%-38%ï¼ŒæŸäº›å“ç±»æ›´é«˜",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.returnRate,onChange:t=>l("returnRate",t),suffix:"%",min:0,max:100,precision:1,style:{width:"100%"},placeholder:"30"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:4},children:e.jsxs(i,{type:"secondary",children:["å¹³å°æ‰£ç‚¹",e.jsx(d,{title:"å¹³å°æŠ€æœ¯æœåŠ¡è´¹ï¼ŒæŠ–éŸ³å°åº—çº¦6%ï¼Œç¬¬ä¸‰æ–¹çº¦10%",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.platformFeeRate,onChange:t=>l("platformFeeRate",t),suffix:"%",min:0,max:100,precision:1,style:{width:"100%"},placeholder:"6"})]}),e.jsxs(s,{span:12,children:[e.jsx("div",{style:{marginBottom:8},children:e.jsxs(i,{type:"secondary",children:["ç¨è´¹",e.jsx(d,{title:"é”€å”®äº§ç”Ÿçš„ç¨è´¹æ¯”ä¾‹",children:e.jsx(c,{style:{marginLeft:4}})})]})}),e.jsx(x,{value:r.taxRate,onChange:t=>l("taxRate",t),suffix:"%",min:0,max:100,precision:1,style:{width:"100%"},placeholder:"0"})]})]}),e.jsx(S,{style:{margin:"24px 0"}}),e.jsx(f,{level:5,style:{marginBottom:16},children:"é¢„æœŸé”€å”®é¢ï¼ˆç”¨äºè®¡ç®—ROIï¼‰"}),e.jsx(x,{value:r.expectedSales,onChange:t=>l("expectedSales",t),prefix:"Â¥",min:0,precision:2,style:{width:"100%",fontSize:18},placeholder:"è¾“å…¥é¢„æœŸGMV"})]})}),e.jsxs(s,{xs:24,lg:12,children:[e.jsx(g,{style:{background:"#fff",border:"1px solid #f0f0f0",borderRadius:6,marginBottom:24,boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},bodyStyle:{padding:"24px"},children:e.jsxs(a,{gutter:[24,24],children:[e.jsxs(s,{span:12,children:[e.jsx(b,{title:"ğŸ“Š å›æœ¬é”€å”®é¢",value:isFinite(n.breakEvenSales)?n.breakEvenSales:"-",precision:2,prefix:"Â¥",valueStyle:{color:"#0c8ce9",fontSize:28}}),e.jsx(i,{type:"secondary",style:{fontSize:12},children:"è¾¾åˆ°æ­¤é”€å”®é¢å³å¯è¦†ç›–æ‰€æœ‰æˆæœ¬"})]}),e.jsxs(s,{span:12,children:[e.jsx(b,{title:"ğŸ’µ å›ºå®šæˆæœ¬åˆè®¡",value:n.fixedCost,precision:2,prefix:"Â¥",valueStyle:{color:"#faad14",fontSize:28}}),e.jsx(i,{type:"secondary",style:{fontSize:12},children:"æ ·å“+åŒ…è£…+å¿«é€’+å‘ä½è´¹"})]})]})}),r.expectedSales>0&&e.jsx(g,{style:{background:n.isProfitable?"linear-gradient(135deg, rgba(82,196,26,0.15) 0%, rgba(82,196,26,0.05) 100%)":"linear-gradient(135deg, rgba(255,77,79,0.15) 0%, rgba(255,77,79,0.05) 100%)",border:`1px solid ${n.isProfitable?"rgba(82,196,26,0.4)":"rgba(255,77,79,0.4)"}`,borderRadius:10,marginBottom:24},bodyStyle:{padding:"24px"},children:e.jsxs(a,{gutter:[24,24],align:"middle",children:[e.jsx(s,{span:12,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:48,fontWeight:700,color:m.color},children:[m.icon," ",(n.roi*100).toFixed(1),"%"]}),e.jsx(i,{style:{fontSize:16,color:"rgba(0,0,0,0.65)"},children:"æŠ•èµ„å›æŠ¥ç‡ (ROI)"}),e.jsx("div",{style:{marginTop:8},children:e.jsx(i,{style:{color:m.color,fontSize:14,padding:"4px 12px",background:`${m.color}20`,borderRadius:8},children:m.text})})]})}),e.jsx(s,{span:12,children:e.jsxs(a,{gutter:[0,16],children:[e.jsx(s,{span:24,children:e.jsx(b,{title:e.jsx("span",{style:{color:"rgba(0,0,0,0.65)"},children:"å‡€åˆ©æ¶¦"}),value:n.profit,precision:2,prefix:n.profit>=0?"+Â¥":"Â¥",valueStyle:{color:n.profit>=0?"#52c41a":"#ff4d4f"}})}),e.jsx(s,{span:24,children:e.jsx(b,{title:e.jsx("span",{style:{color:"rgba(0,0,0,0.65)"},children:"å‡€é”€å”®é¢"}),value:n.netSales,precision:2,prefix:"Â¥",valueStyle:{color:"rgba(0,0,0,0.85)"}})})]})})]})}),r.expectedSales>0&&e.jsx(g,{title:"ğŸ“‹ æˆæœ¬æ˜ç»†",style:{background:"#fff",border:"1px solid #f0f0f0",borderRadius:10,marginBottom:24,boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},headStyle:{borderBottom:"1px solid #f0f0f0"},bodyStyle:{padding:"24px"},children:e.jsxs(a,{gutter:[16,12],children:[e.jsx(s,{span:16,children:e.jsx(i,{type:"secondary",children:"å›ºå®šæˆæœ¬"})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{children:["Â¥",n.fixedCost.toFixed(2)]})}),e.jsx(s,{span:16,children:e.jsxs(i,{type:"secondary",children:["ä½£é‡‘æ”¯å‡ºï¼ˆ",r.commissionRate,"%ï¼‰"]})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{children:["Â¥",(r.expectedSales*r.commissionRate/100).toFixed(2)]})}),e.jsx(s,{span:16,children:e.jsxs(i,{type:"secondary",children:["å¹³å°æ‰£ç‚¹ï¼ˆ",r.platformFeeRate,"%ï¼‰"]})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{children:["Â¥",(r.expectedSales*r.platformFeeRate/100).toFixed(2)]})}),r.taxRate>0&&e.jsxs(e.Fragment,{children:[e.jsx(s,{span:16,children:e.jsxs(i,{type:"secondary",children:["ç¨è´¹ï¼ˆ",r.taxRate,"%ï¼‰"]})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{children:["Â¥",(r.expectedSales*r.taxRate/100).toFixed(2)]})})]}),e.jsx(s,{span:16,children:e.jsxs(i,{type:"secondary",children:["äº§å“æˆæœ¬ï¼ˆ",n.productCostRate.toFixed(1),"%ï¼‰"]})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{children:["Â¥",n.productCostTotal.toFixed(2)]})}),e.jsx(s,{span:16,children:e.jsxs(i,{type:"secondary",children:["é€€è´§æŸå¤±ï¼ˆ",r.returnRate,"%ï¼‰"]})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{style:{color:"#ff4d4f"},children:["-Â¥",(r.expectedSales*r.returnRate/100).toFixed(2)]})}),e.jsx(S,{style:{margin:"12px 0"}}),e.jsx(s,{span:16,children:e.jsx(i,{strong:!0,children:"æ€»æˆæœ¬"})}),e.jsx(s,{span:8,style:{textAlign:"right"},children:e.jsxs(i,{strong:!0,style:{color:"#faad14"},children:["Â¥",n.totalCost.toFixed(2)]})})]})}),n.profitMarginRate<=0&&e.jsx(de,{message:"æˆæœ¬ç»“æ„è­¦å‘Š",description:"å½“å‰ä½£é‡‘ç‡+äº§å“æˆæœ¬ç‡+é€€è´§ç‡è¶…è¿‡100%ï¼Œæ— è®ºé”€å”®é¢å¤šå°‘éƒ½æ— æ³•ç›ˆåˆ©ã€‚å»ºè®®é™ä½æˆæœ¬æ¯”ä¾‹æˆ–æé«˜å”®ä»·ã€‚",type:"error",showIcon:!0,icon:e.jsx(ce,{}),style:{marginBottom:24}}),n.bulkScenarios.length>0&&n.fixedCost>0&&e.jsx(g,{title:"ğŸ¯ é”€å”®ç›®æ ‡å»ºè®®",style:{background:"#fff",border:"1px solid #f0f0f0",borderRadius:10,boxShadow:"0 1px 2px rgba(0,0,0,0.03)"},headStyle:{borderBottom:"1px solid #f0f0f0"},bodyStyle:{padding:"24px"},children:e.jsx(a,{gutter:[16,16],children:n.bulkScenarios.map((t,o)=>e.jsx(s,{span:8,children:e.jsxs("div",{style:{textAlign:"center",padding:"16px",background:"#f5f5f5",borderRadius:8},children:[e.jsx(i,{type:"secondary",style:{fontSize:12},children:t.label}),e.jsxs("div",{style:{fontSize:20,fontWeight:600,color:"#1890ff",margin:"8px 0"},children:["Â¥",t.sales.toFixed(0)]}),e.jsx(i,{type:"secondary",style:{fontSize:11},children:t.description})]})},o))})})]})]})]})]})};export{Xe as default};
