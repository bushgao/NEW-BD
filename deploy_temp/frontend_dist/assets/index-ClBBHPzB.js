import{r as b,u as j,b as I,c as A,j as e}from"./index-CT9F3akh.js";import{a as R}from"./auth.service-Azf4l4aS.js";import{C as w}from"./index-DSHlf2Aa.js";import{R as T}from"./SafetyCertificateOutlined-DItUwWUC.js";import{T as v}from"./index-WSGRBNKI.js";import{A as B}from"./index-C7lyzjCv.js";import{F as o}from"./index-gbW5J2sR.js";import{I as d}from"./index-htVVH06X.js";import{R as S}from"./MailOutlined-Bu5kpykX.js";import{R as k}from"./LockOutlined-DjHtpiEB.js";import{B as F}from"./button-BCSOJgfZ.js";import{s}from"./index-DBkC0DaV.js";import"./api-W_2ufh2E.js";import"./TextArea-Dl3y1VrD.js";import"./Skeleton-DdNqplha.js";import"./index-DiUoGV2L.js";import"./EllipsisOutlined-Bv641ndy.js";import"./Overflow-Gz7ZFAqv.js";import"./PlusOutlined-oMbGAVrA.js";import"./UnstableContext-DKFbPjPy.js";import"./Input-UrGHJeeK.js";import"./row-DVjUYxl3.js";import"./index-BoArUKpt.js";import"./useBreakpoint--6XYT0_e.js";import"./QuestionCircleOutlined-CZssou_a.js";import"./SearchOutlined-CyHaylvE.js";import"./index-Do9OUhYv.js";const{Title:L,Text:p}=v,ie=()=>{var a,n;const[c,i]=b.useState(!1),f=j(),g=I(),{setAuth:x}=A(),u=((n=(a=g.state)==null?void 0:a.from)==null?void 0:n.pathname)||"/app/admin",h=async m=>{var l;i(!0);try{const r=await R({email:m.email,password:m.password});if(r.success&&r.data){const{user:t,tokens:y}=r.data;if(t.role!=="PLATFORM_ADMIN"){s.error("此入口仅限平台管理员登录"),i(!1);return}x({id:t.id,email:t.email,name:t.name,role:"PLATFORM_ADMIN"},y),s.success("管理员登录成功"),f(u,{replace:!0})}else s.error(((l=r.error)==null?void 0:l.message)||"登录失败")}catch{s.error("登录失败，请稍后重试")}finally{i(!1)}};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",padding:24},children:e.jsxs(w,{style:{width:"100%",maxWidth:420,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",borderRadius:10,border:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.95)"},styles:{body:{padding:"48px 32px"}},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[e.jsx(T,{style:{fontSize:48,color:"#1890ff",marginBottom:16}}),e.jsx(L,{level:2,style:{marginBottom:8,color:"#1a1a2e"},children:"平台管理后台"}),e.jsx(p,{type:"secondary",children:"管理员专用入口"})]}),e.jsx(B,{message:"安全提示",description:"此入口仅限平台管理员使用，请勿分享登录信息",type:"warning",showIcon:!0,style:{marginBottom:24}}),e.jsxs(o,{name:"admin-login",onFinish:h,autoComplete:"off",size:"large",layout:"vertical",children:[e.jsx(o.Item,{name:"email",rules:[{required:!0,message:"请输入邮箱"},{type:"email",message:"邮箱格式不正确"}],children:e.jsx(d,{prefix:e.jsx(S,{style:{color:"#bfbfbf"}}),placeholder:"管理员邮箱"})}),e.jsx(o.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(d.Password,{prefix:e.jsx(k,{style:{color:"#bfbfbf"}}),placeholder:"密码"})}),e.jsx(o.Item,{style:{marginBottom:16},children:e.jsx(F,{type:"primary",htmlType:"submit",loading:c,block:!0,style:{height:48,background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",border:"none",fontWeight:500},children:"登录管理后台"})})]}),e.jsx("div",{style:{textAlign:"center",marginTop:24},children:e.jsx(p,{type:"secondary",style:{fontSize:12},children:"如需帮助，请联系技术支持"})})]})})};export{ie as default};
