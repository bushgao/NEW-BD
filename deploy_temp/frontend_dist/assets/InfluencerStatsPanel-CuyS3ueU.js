import{r as i,j as e,S as p}from"./index-CT9F3akh.js";import{a as y}from"./api-W_2ufh2E.js";import{B as l,a as j}from"./Bento-rP_dPwTG.js";import{s as S}from"./index-DBkC0DaV.js";import{S as a}from"./index-C_yDWHqX.js";import{F as c}from"./Table-pvERNZVb.js";async function g(n,r){const t={};return(await y.get("/platform/influencers-stats",{params:t})).data.data}function N(){const[n,r]=i.useState(!1),[t,o]=i.useState(null);i.useEffect(()=>{d()},[]);const d=async()=>{r(!0);try{const s=await g();o(s)}catch(s){S.error(s.message||"加载统计数据失败")}finally{r(!1)}};if(n)return e.jsx("div",{style:{textAlign:"center",padding:"50px"},children:e.jsx(p,{size:"large"})});if(!t)return null;const u=[{title:"来源类型",dataIndex:"sourceType",key:"sourceType",render:s=>({PLATFORM:"平台添加",FACTORY:"品牌添加",STAFF:"商务添加"})[s]||s},{title:"总数",dataIndex:"total",key:"total"},{title:"已认证",dataIndex:"verified",key:"verified"},{title:"认证率",dataIndex:"verificationRate",key:"verificationRate",render:s=>`${(s*100).toFixed(1)}%`}],f=[{title:"排名",dataIndex:"rank",key:"rank",render:(s,x,m)=>m+1},{title:"品牌名称",dataIndex:"factoryName",key:"factoryName"},{title:"达人数量",dataIndex:"count",key:"count"}];return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(l,{children:e.jsx(a,{title:"总达人数",value:t.total})}),e.jsx(l,{children:e.jsx(a,{title:"未认证",value:t.byVerificationStatus.UNVERIFIED||0,valueStyle:{color:"#faad14"}})}),e.jsx(l,{children:e.jsx(a,{title:"已认证",value:t.byVerificationStatus.VERIFIED||0,valueStyle:{color:"#52c41a"}})}),e.jsx(l,{children:e.jsx(a,{title:"认证失败",value:t.byVerificationStatus.REJECTED||0,valueStyle:{color:"#ff4d4f"}})})]}),e.jsxs(j,{children:[e.jsx(l,{title:"来源分布",span:3,children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[e.jsx(a,{title:"平台添加",value:t.bySourceType.PLATFORM||0}),e.jsx(a,{title:"品牌添加",value:t.bySourceType.FACTORY||0}),e.jsx(a,{title:"商务添加",value:t.bySourceType.STAFF||0})]})}),e.jsx(l,{title:"平台分布",span:3,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 pt-2",children:[e.jsx(a,{title:"抖音",value:t.byPlatform.DOUYIN||0}),e.jsx(a,{title:"快手",value:t.byPlatform.KUAISHOU||0}),e.jsx(a,{title:"小红书",value:t.byPlatform.XIAOHONGSHU||0}),e.jsx(a,{title:"其他",value:(t.byPlatform.WEIBO||0)+(t.byPlatform.OTHER||0)})]})}),e.jsx(l,{title:"来源质量分析",span:3,className:"h-full",children:e.jsx(c,{columns:u,dataSource:t.sourceQuality,pagination:!1,size:"small",rowKey:"sourceType",className:"mt-2"})}),e.jsx(l,{title:"品牌达人排名 (Top 10)",span:3,className:"h-full",children:e.jsx(c,{columns:f,dataSource:t.topFactories,pagination:!1,size:"small",rowKey:"brandId",className:"mt-2"})})]})]})}export{N as I};
