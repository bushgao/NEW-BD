import{r as o,j as t}from"./index-CT9F3akh.js";import{s as A}from"./global-influencer.service-DgptB4Yw.js";import{o as B}from"./influencer.service-CIZYR2fC.js";import{C as f}from"./index-DSHlf2Aa.js";import{T as $}from"./index-WSGRBNKI.js";import{S as n}from"./index-B4IHrhqI.js";import{I as v}from"./index-htVVH06X.js";import{R as P}from"./SearchOutlined-CyHaylvE.js";import{F as M}from"./Table-pvERNZVb.js";import{s as i}from"./index-DBkC0DaV.js";import{R as z}from"./UserOutlined-C5ACOCTv.js";import{R as E}from"./PhoneOutlined-CErfRUZT.js";import{R as F}from"./WechatOutlined-CWc0mZPo.js";import{T as L}from"./index-DnlS8_jt.js";import{T as O}from"./TextArea-Dl3y1VrD.js";import{B as _}from"./button-BCSOJgfZ.js";import{R as D}from"./PlusOutlined-oMbGAVrA.js";import{M as G}from"./index-CxrQydPb.js";import"./api-W_2ufh2E.js";import"./Skeleton-DdNqplha.js";import"./index-DiUoGV2L.js";import"./EllipsisOutlined-Bv641ndy.js";import"./Overflow-Gz7ZFAqv.js";import"./Input-UrGHJeeK.js";import"./UnstableContext-DKFbPjPy.js";import"./index-DfnzXlZl.js";import"./PurePanel-DcW2x34y.js";import"./index-Dd1FzYQF.js";import"./index-Do9OUhYv.js";import"./index-BndKrrhJ.js";import"./LeftOutlined-DGEyRIvL.js";import"./useBreakpoint--6XYT0_e.js";import"./Pagination-6AhiOKxV.js";import"./extendsObject-78o_rR5W.js";import"./ActionButton-DPGDuFxb.js";import"./index-BoArUKpt.js";import"./fade-pCPugiYp.js";const{Title:Y,Text:c,Paragraph:q}=$,{Search:H}=v,K="#1890ff",W="#e6f7ff",$e=()=>{const[h,l]=o.useState(!1),[x,g]=o.useState([]),[y,u]=o.useState(0),[j,I]=o.useState(1),[k,R]=o.useState(""),[S,m]=o.useState(null),d=async(e=1,r=k)=>{l(!0);try{const a=await A({keyword:r,page:e,pageSize:10});g(a.data.map(s=>({...s,key:s.id}))),u(a.total),I(e)}catch{i.error("åŠ è½½è¾¾äººåˆ—è¡¨å¤±è´¥")}finally{l(!1)}};o.useEffect(()=>{d()},[]);const T=e=>{R(e),d(1,e)},b=async e=>{var r,a,s;m(e.id);try{await B({globalInfluencerId:e.id,nickname:e.nickname||"",phone:e.phone||void 0,wechat:e.wechat||void 0}),i.success(`å·²å°†ã€Œ${e.nickname}ã€æ·»åŠ åˆ°æˆ‘çš„è¾¾äººåº“`)}catch(p){((r=p.response)==null?void 0:r.status)===409?i.warning("è¯¥è¾¾äººå·²åœ¨æ‚¨çš„åº“ä¸­"):i.error(((s=(a=p.response)==null?void 0:a.data)==null?void 0:s.message)||"æ·»åŠ å¤±è´¥")}finally{m(null)}},w=e=>{G.confirm({title:"æ·»åŠ è¾¾äººåˆ°æˆ‘çš„åº“",content:t.jsxs("div",{children:[t.jsx("p",{children:"ç¡®å®šå°†ä»¥ä¸‹è¾¾äººæ·»åŠ åˆ°æ‚¨çš„è¾¾äººåº“å—ï¼Ÿ"}),t.jsxs("p",{children:[t.jsx("strong",{children:"æ˜µç§°ï¼š"}),e.nickname]}),e.phone&&t.jsxs("p",{children:[t.jsx("strong",{children:"æ‰‹æœºå·ï¼š"}),e.phone]})]}),okText:"ç¡®è®¤æ·»åŠ ",cancelText:"å–æ¶ˆ",onOk:()=>b(e)})},C=[{title:"æ˜µç§°",dataIndex:"nickname",key:"nickname",render:e=>t.jsxs(n,{children:[t.jsx(z,{style:{color:K}}),t.jsx(c,{strong:!0,children:e||"-"})]})},{title:"æ‰‹æœºå·",dataIndex:"phone",key:"phone",render:e=>t.jsxs(n,{children:[t.jsx(E,{}),t.jsx(c,{children:e||"-"})]})},{title:"å¾®ä¿¡å·",dataIndex:"wechat",key:"wechat",render:e=>t.jsxs(n,{children:[t.jsx(F,{style:{color:"#07c160"}}),t.jsx(c,{children:e||"-"})]})},{title:"åˆä½œå“ç‰Œæ•°",dataIndex:"brandCount",key:"brandCount",render:e=>t.jsxs(L,{color:e>0?"blue":"default",children:[e||0," ä¸ªå“ç‰Œ"]})},{title:"å…¥åº“æ—¶é—´",dataIndex:"createdAt",key:"createdAt",render:e=>new Date(e).toLocaleDateString()},{title:"æ“ä½œ",key:"action",render:(e,r)=>t.jsx(O,{title:"æ·»åŠ åˆ°æˆ‘çš„è¾¾äººåº“",children:t.jsx(_,{type:"primary",icon:t.jsx(D,{}),size:"small",loading:S===r.id,onClick:()=>w(r),children:"æ‹‰å…¥æˆ‘çš„åº“"})})}];return t.jsx("div",{style:{padding:24,margin:-24,minHeight:"calc(100vh - 64px)",background:`linear-gradient(135deg, ${W} 0%, #f5f7fa 100%)`},children:t.jsxs("div",{style:{maxWidth:1400,margin:"0 auto"},children:[t.jsxs(f,{style:{background:"#fff",border:"1px solid #f0f0f0",borderRadius:8,marginBottom:24},bodyStyle:{padding:24},children:[t.jsx(Y,{level:4,style:{margin:0},children:"ğŸª è¾¾äººå¹¿åœº"}),t.jsx(q,{type:"secondary",style:{marginTop:8,marginBottom:0},children:"æµè§ˆå…¨å±€è¾¾äººæ± ï¼Œé€‰æ‹©é€‚åˆçš„è¾¾äººæ·»åŠ åˆ°æ‚¨çš„è¾¾äººåº“è¿›è¡Œåˆä½œ"})]}),t.jsxs(f,{style:{background:"#fff",border:"1px solid #f0f0f0",borderRadius:8},bodyStyle:{padding:24},children:[t.jsx(n,{style:{marginBottom:16},children:t.jsx(H,{placeholder:"æœç´¢è¾¾äººæ˜µç§°ã€æ‰‹æœºå·ã€å¾®ä¿¡å·",allowClear:!0,enterButton:t.jsxs(t.Fragment,{children:[t.jsx(P,{})," æœç´¢"]}),style:{width:400},onSearch:T})}),t.jsx(M,{loading:h,dataSource:x,columns:C,pagination:{current:j,total:y,pageSize:10,onChange:e=>d(e),showTotal:e=>`å…± ${e} ä½è¾¾äºº`}})]})]})})};export{$e as default};
