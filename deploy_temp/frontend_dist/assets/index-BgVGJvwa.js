import{e as y,r as l,j as e,S as b}from"./index-CT9F3akh.js";import{m as S}from"./report.service-DH8L8GH2.js";import{C as r,a as s,b as d}from"./Card-D9YXdlEe.js";import{T as R}from"./index-WSGRBNKI.js";import{S as p}from"./index-DfnzXlZl.js";import{R as h,C as i}from"./row-DVjUYxl3.js";import{S as n}from"./index-C_yDWHqX.js";import{R as w}from"./TrophyOutlined-Bu28ol1a.js";import{R as C}from"./ClockCircleOutlined-DAoco557.js";import{R as I}from"./CheckCircleOutlined-eJc7nheY.js";import{R as k}from"./RiseOutlined-BfYH29d9.js";import{s as B}from"./index-DBkC0DaV.js";import"./api-W_2ufh2E.js";import"./TextArea-Dl3y1VrD.js";import"./UnstableContext-DKFbPjPy.js";import"./Overflow-Gz7ZFAqv.js";import"./PurePanel-DcW2x34y.js";import"./SearchOutlined-CyHaylvE.js";import"./index-BoArUKpt.js";import"./useBreakpoint--6XYT0_e.js";import"./Skeleton-DdNqplha.js";const{Option:c}=p,{Title:T}=R,Y=()=>{const{theme:x}=y(),[j,m]=l.useState(!1),[t,v]=l.useState(null),[a,f]=l.useState("month"),g=async()=>{m(!0);try{const o=await S(a);v(o)}catch(o){B.error("加载数据失败"),console.error(o)}finally{m(!1)}};return l.useEffect(()=>{g()},[a]),e.jsxs("div",{style:{minHeight:"100vh",background:`linear-gradient(135deg, ${x.colors.background.secondary} 0%, ${x.colors.background.tertiary} 100%)`,position:"relative",padding:"24px",margin:"-24px"},children:[e.jsx("div",{style:{position:"absolute",top:"10%",left:"5%",width:"400px",height:"400px",background:"linear-gradient(135deg, rgba(90, 200, 250, 0.08), rgba(191, 90, 242, 0.08))",borderRadius:"50%",filter:"blur(80px)",pointerEvents:"none",zIndex:0}}),e.jsx("div",{style:{position:"absolute",top:"40%",right:"10%",width:"500px",height:"500px",background:"linear-gradient(135deg, rgba(255, 107, 107, 0.08), rgba(255, 217, 61, 0.08))",borderRadius:"50%",filter:"blur(100px)",pointerEvents:"none",zIndex:0}}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(T,{level:4,style:{margin:0},children:"跟进效果分析"}),e.jsxs(p,{value:a,onChange:f,style:{width:120},children:[e.jsx(c,{value:"week",children:"最近7天"}),e.jsx(c,{value:"month",children:"最近30天"}),e.jsx(c,{value:"quarter",children:"最近90天"})]})]}),e.jsx(b,{spinning:j,children:t&&e.jsxs(e.Fragment,{children:[e.jsxs(h,{gutter:16,style:{marginBottom:24},children:[e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(r,{variant:"elevated",hoverable:!0,children:e.jsx(s,{children:e.jsx(n,{title:"跟进效果评分",value:t.effectivenessScore,suffix:"/ 100",prefix:e.jsx(w,{}),valueStyle:{color:t.effectivenessScore>70?"#52c41a":"#faad14"}})})})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(r,{variant:"elevated",hoverable:!0,children:e.jsx(s,{children:e.jsx(n,{title:"总跟进次数",value:t.totalFollowUps,prefix:e.jsx(C,{})})})})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(r,{variant:"elevated",hoverable:!0,children:e.jsx(s,{children:e.jsx(n,{title:"成功转化",value:t.successfulConversions,prefix:e.jsx(I,{}),valueStyle:{color:"#52c41a"}})})})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(r,{variant:"elevated",hoverable:!0,children:e.jsx(s,{children:e.jsx(n,{title:"转化率",value:t.conversionRate,suffix:"%",prefix:e.jsx(k,{}),valueStyle:{color:t.conversionRate>30?"#52c41a":"#faad14"}})})})})]}),e.jsxs(h,{gutter:16,style:{marginBottom:24},children:[e.jsx(i,{xs:24,md:12,children:e.jsxs(r,{variant:"elevated",children:[e.jsx(d,{level:4,children:"最佳跟进时间"}),e.jsxs(s,{children:[e.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:"#1890ff",marginBottom:8},children:t.bestTime}),e.jsx("p",{style:{color:"#666",margin:0},children:"在此时间段跟进，转化率最高"})]})]})}),e.jsx(i,{xs:24,md:12,children:e.jsxs(r,{variant:"elevated",children:[e.jsx(d,{level:4,children:"最佳跟进频率"}),e.jsxs(s,{children:[e.jsx("div",{style:{fontSize:24,fontWeight:"bold",color:"#52c41a",marginBottom:8},children:t.bestFrequency}),e.jsx("p",{style:{color:"#666",margin:0},children:"保持此频率跟进，效果最佳"})]})]})})]}),e.jsxs(r,{variant:"elevated",children:[e.jsx(d,{level:4,children:"优化建议"}),e.jsx(s,{children:e.jsx("ul",{style:{paddingLeft:20,margin:0},children:t.suggestions.map((o,u)=>e.jsx("li",{style:{marginBottom:8,color:"#666"},children:o},u))})})]})]})})]})]})};export{Y as default};
