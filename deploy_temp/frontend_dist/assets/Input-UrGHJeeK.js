import{r as h,aJ as Oe,m as Re,f as he,p as je,R as B,_ as ve,h as K,k as Be,i as pe,B as Me,D as Pe,t as We}from"./index-CT9F3akh.js";import{an as Ae,u as Te,ao as $e,B as ke,D as De,w as He,ap as Ce,o as Ve,aq as Le,al as ze,m as Ke,n as Ue,F as Xe,ar as Ye,V as qe,p as ye,q as be,W as Je}from"./TextArea-Dl3y1VrD.js";const we=e=>typeof e=="object"&&e!=null&&e.nodeType===1,xe=(e,r)=>(!r||e!=="hidden")&&e!=="visible"&&e!=="clip",de=(e,r)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const s=getComputedStyle(e,null);return xe(s.overflowY,r)||xe(s.overflowX,r)||(o=>{const t=(n=>{if(!n.ownerDocument||!n.ownerDocument.defaultView)return null;try{return n.ownerDocument.defaultView.frameElement}catch{return null}})(o);return!!t&&(t.clientHeight<o.scrollHeight||t.clientWidth<o.scrollWidth)})(e)}return!1},me=(e,r,s,o,t,n,a,l)=>n<e&&a>r||n>e&&a<r?0:n<=e&&l<=s||a>=r&&l>=s?n-e-o:a>r&&l<s||n<e&&l>s?a-r+t:0,Ge=e=>{const r=e.parentElement;return r??(e.getRootNode().host||null)},Se=(e,r)=>{var s,o,t,n;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:m,boundary:T,skipOverflowHiddenElements:I}=r,$=typeof T=="function"?T:f=>f!==T;if(!we(e))throw new TypeError("Invalid target");const U=document.scrollingElement||document.documentElement,X=[];let y=e;for(;we(y)&&$(y);){if(y=Ge(y),y===U){X.push(y);break}y!=null&&y===document.body&&de(y)&&!de(document.documentElement)||y!=null&&de(y,I)&&X.push(y)}const O=(o=(s=window.visualViewport)==null?void 0:s.width)!=null?o:innerWidth,M=(n=(t=window.visualViewport)==null?void 0:t.height)!=null?n:innerHeight,{scrollX:R,scrollY:E}=window,{height:k,width:Y,top:w,right:N,bottom:F,left:P}=e.getBoundingClientRect(),{top:oe,right:re,bottom:Q,left:Z}=(f=>{const u=window.getComputedStyle(f);return{top:parseFloat(u.scrollMarginTop)||0,right:parseFloat(u.scrollMarginRight)||0,bottom:parseFloat(u.scrollMarginBottom)||0,left:parseFloat(u.scrollMarginLeft)||0}})(e);let v=l==="start"||l==="nearest"?w-oe:l==="end"?F+Q:w+k/2-oe+Q,i=m==="center"?P+Y/2-Z+re:m==="end"?N+re:P-Z;const x=[];for(let f=0;f<X.length;f++){const u=X[f],{height:_,width:q,top:D,right:H,bottom:J,left:b}=u.getBoundingClientRect();if(a==="if-needed"&&w>=0&&P>=0&&F<=M&&N<=O&&(u===U&&!de(u)||w>=D&&F<=J&&P>=b&&N<=H))return x;const G=getComputedStyle(u),V=parseInt(G.borderLeftWidth,10),W=parseInt(G.borderTopWidth,10),j=parseInt(G.borderRightWidth,10),g=parseInt(G.borderBottomWidth,10);let p=0,S=0;const A="offsetWidth"in u?u.offsetWidth-u.clientWidth-V-j:0,L="offsetHeight"in u?u.offsetHeight-u.clientHeight-W-g:0,ee="offsetWidth"in u?u.offsetWidth===0?0:q/u.offsetWidth:0,te="offsetHeight"in u?u.offsetHeight===0?0:_/u.offsetHeight:0;if(U===u)p=l==="start"?v:l==="end"?v-M:l==="nearest"?me(E,E+M,M,W,g,E+v,E+v+k,k):v-M/2,S=m==="start"?i:m==="center"?i-O/2:m==="end"?i-O:me(R,R+O,O,V,j,R+i,R+i+Y,Y),p=Math.max(0,p+E),S=Math.max(0,S+R);else{p=l==="start"?v-D-W:l==="end"?v-J+g+L:l==="nearest"?me(D,J,_,W,g+L,v,v+k,k):v-(D+_/2)+L/2,S=m==="start"?i-b-V:m==="center"?i-(b+q/2)+A/2:m==="end"?i-H+j+A:me(b,H,q,V,j+A,i,i+Y,Y);const{scrollLeft:se,scrollTop:ae}=u;p=te===0?0:Math.max(0,Math.min(ae+p/te,u.scrollHeight-_/te+L)),S=ee===0?0:Math.max(0,Math.min(se+S/ee,u.scrollWidth-q/ee+A)),v+=ae-p,i+=se-S}x.push({el:u,top:p,left:S})}return x},Qe=e=>e===!1?{block:"end",inline:"nearest"}:(r=>r===Object(r)&&Object.keys(r).length!==0)(e)?e:{block:"start",inline:"nearest"};function Ze(e,r){if(!e.isConnected||!(t=>{let n=t;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(e))return;const s=(t=>{const n=window.getComputedStyle(t);return{top:parseFloat(n.scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0}})(e);if((t=>typeof t=="object"&&typeof t.behavior=="function")(r))return r.behavior(Se(e,r));const o=typeof r=="boolean"||r==null?void 0:r.behavior;for(const{el:t,top:n,left:a}of Se(e,Qe(r))){const l=n-s.top+s.bottom,m=a-s.left+s.right;t.scroll({top:l,left:m,behavior:o})}}const et=["parentNode"],tt="form_item";function Fe(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function nt(e,r){if(!e.length)return;const s=e.join("_");return r?`${r}_${s}`:et.includes(s)?`${tt}_${s}`:s}function ft(e,r,s,o,t,n){let a=o;return n!==void 0?a=n:s.validating?a="validating":e.length?a="error":r.length?a="warning":(s.touched||t&&s.validated)&&(a="success"),a}var ot=function(e,r){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,o=Object.getOwnPropertySymbols(e);t<o.length;t++)r.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(s[o[t]]=e[o[t]]);return s};function Ee(e){return Fe(e).join("_")}function Ne(e,r){const s=r.getFieldInstance(e),o=Oe(s);if(o)return o;const t=nt(Fe(e),r.__INTERNAL__.name);if(t)return document.getElementById(t)}function dt(e){const[r]=Ae(),s=h.useRef({}),o=h.useMemo(()=>e??Object.assign(Object.assign({},r),{__INTERNAL__:{itemRef:t=>n=>{const a=Ee(t);n?s.current[a]=n:delete s.current[a]}},scrollToField:(t,n={})=>{const{focus:a}=n,l=ot(n,["focus"]),m=Ne(t,o);m&&(Ze(m,Object.assign({scrollMode:"if-needed",block:"nearest"},l)),a&&o.focusField(t))},focusField:t=>{var n,a;const l=o.getFieldInstance(t);typeof(l==null?void 0:l.focus)=="function"?l.focus():(a=(n=Ne(t,o))===null||n===void 0?void 0:n.focus)===null||a===void 0||a.call(n)},getFieldInstance:t=>{const n=Ee(t);return s.current[n]}}),[e,r]);return[o]}var rt=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],st=h.forwardRef(function(e,r){var s=e.autoComplete,o=e.onChange,t=e.onFocus,n=e.onBlur,a=e.onPressEnter,l=e.onKeyDown,m=e.onKeyUp,T=e.prefixCls,I=T===void 0?"rc-input":T,$=e.disabled,U=e.htmlSize,X=e.className,y=e.maxLength,O=e.suffix,M=e.showCount,R=e.count,E=e.type,k=E===void 0?"text":E,Y=e.classes,w=e.classNames,N=e.styles,F=e.onCompositionStart,P=e.onCompositionEnd,oe=Re(e,rt),re=h.useState(!1),Q=he(re,2),Z=Q[0],v=Q[1],i=h.useRef(!1),x=h.useRef(!1),f=h.useRef(null),u=h.useRef(null),_=function(c){f.current&&De(f.current,c)},q=Te(e.defaultValue,{value:e.value}),D=he(q,2),H=D[0],J=D[1],b=H==null?"":String(H),G=h.useState(null),V=he(G,2),W=V[0],j=V[1],g=$e(R,M),p=g.max||y,S=g.strategy(b),A=!!p&&S>p;h.useImperativeHandle(r,function(){var d;return{focus:_,blur:function(){var C;(C=f.current)===null||C===void 0||C.blur()},setSelectionRange:function(C,ue,le){var ne;(ne=f.current)===null||ne===void 0||ne.setSelectionRange(C,ue,le)},select:function(){var C;(C=f.current)===null||C===void 0||C.select()},input:f.current,nativeElement:((d=u.current)===null||d===void 0?void 0:d.nativeElement)||f.current}}),h.useEffect(function(){x.current&&(x.current=!1),v(function(d){return d&&$?!1:d})},[$]);var L=function(c,C,ue){var le=C;if(!i.current&&g.exceedFormatter&&g.max&&g.strategy(C)>g.max){if(le=g.exceedFormatter(C,{max:g.max}),C!==le){var ne,ge;j([((ne=f.current)===null||ne===void 0?void 0:ne.selectionStart)||0,((ge=f.current)===null||ge===void 0?void 0:ge.selectionEnd)||0])}}else if(ue.source==="compositionEnd")return;J(le),f.current&&Ce(f.current,c,o,le)};h.useEffect(function(){if(W){var d;(d=f.current)===null||d===void 0||d.setSelectionRange.apply(d,je(W))}},[W]);var ee=function(c){L(c,c.target.value,{source:"change"})},te=function(c){i.current=!1,L(c,c.currentTarget.value,{source:"compositionEnd"}),P==null||P(c)},se=function(c){a&&c.key==="Enter"&&!x.current&&(x.current=!0,a(c)),l==null||l(c)},ae=function(c){c.key==="Enter"&&(x.current=!1),m==null||m(c)},ce=function(c){v(!0),t==null||t(c)},fe=function(c){x.current&&(x.current=!1),v(!1),n==null||n(c)},z=function(c){J(""),_(),f.current&&Ce(f.current,c,o)},ie=A&&"".concat(I,"-out-of-range"),_e=function(){var c=He(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return B.createElement("input",ve({autoComplete:s},c,{onChange:ee,onFocus:ce,onBlur:fe,onKeyDown:se,onKeyUp:ae,className:K(I,pe({},"".concat(I,"-disabled"),$),w==null?void 0:w.input),style:N==null?void 0:N.input,ref:f,size:U,type:k,onCompositionStart:function(ue){i.current=!0,F==null||F(ue)},onCompositionEnd:te}))},Ie=function(){var c=Number(p)>0;if(O||g.show){var C=g.showFormatter?g.showFormatter({value:b,count:S,maxLength:p}):"".concat(S).concat(c?" / ".concat(p):"");return B.createElement(B.Fragment,null,g.show&&B.createElement("span",{className:K("".concat(I,"-show-count-suffix"),pe({},"".concat(I,"-show-count-has-suffix"),!!O),w==null?void 0:w.count),style:Be({},N==null?void 0:N.count)},C),O)}return null};return B.createElement(ke,ve({},oe,{prefixCls:I,className:K(X,ie),handleReset:z,value:b,focused:Z,triggerFocus:_,suffix:Ie(),disabled:$,classes:Y,classNames:w,styles:N,ref:u}),_e())});function at(e,r){const s=h.useRef([]),o=()=>{s.current.push(setTimeout(()=>{var t,n,a,l;!((t=e.current)===null||t===void 0)&&t.input&&((n=e.current)===null||n===void 0?void 0:n.input.getAttribute("type"))==="password"&&(!((a=e.current)===null||a===void 0)&&a.input.hasAttribute("value"))&&((l=e.current)===null||l===void 0||l.input.removeAttribute("value"))}))};return h.useEffect(()=>(r&&o(),()=>s.current.forEach(t=>{t&&clearTimeout(t)})),[]),o}function lt(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var it=function(e,r){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,o=Object.getOwnPropertySymbols(e);t<o.length;t++)r.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(s[o[t]]=e[o[t]]);return s};const mt=h.forwardRef((e,r)=>{const{prefixCls:s,bordered:o=!0,status:t,size:n,disabled:a,onBlur:l,onFocus:m,suffix:T,allowClear:I,addonAfter:$,addonBefore:U,className:X,style:y,styles:O,rootClassName:M,onChange:R,classNames:E,variant:k,_skipAddonWarning:Y}=e,w=it(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant","_skipAddonWarning"]),{getPrefixCls:N,direction:F,allowClear:P,autoComplete:oe,className:re,style:Q,classNames:Z,styles:v}=Me("input"),i=N("input",s),x=h.useRef(null),f=Ve(i),[u,_,q]=Le(i,M),[D]=ze(i,f),{compactSize:H,compactItemClassnames:J}=Ke(i,F),b=Ue(z=>{var ie;return(ie=n??H)!==null&&ie!==void 0?ie:z}),G=B.useContext(Pe),V=a??G,{status:W,hasFeedback:j,feedbackIcon:g}=h.useContext(Xe),p=Je(W,t),S=lt(e)||!!j;h.useRef(S);const A=at(x,!0),L=z=>{A(),l==null||l(z)},ee=z=>{A(),m==null||m(z)},te=z=>{A(),R==null||R(z)},se=(j||T)&&B.createElement(B.Fragment,null,T,j&&g),ae=Ye(I??P),[ce,fe]=qe("input",k,o);return u(D(B.createElement(st,Object.assign({ref:We(r,x),prefixCls:i,autoComplete:oe},w,{disabled:V,onBlur:L,onFocus:ee,style:Object.assign(Object.assign({},Q),y),styles:Object.assign(Object.assign({},v),O),suffix:se,allowClear:ae,className:K(X,M,q,f,J,re),onChange:te,addonBefore:U&&B.createElement(be,{form:!0,space:!0},U),addonAfter:$&&B.createElement(be,{form:!0,space:!0},$),classNames:Object.assign(Object.assign(Object.assign({},E),Z),{input:K({[`${i}-sm`]:b==="small",[`${i}-lg`]:b==="large",[`${i}-rtl`]:F==="rtl"},E==null?void 0:E.input,Z.input,_),variant:K({[`${i}-${ce}`]:fe},ye(i,p)),affixWrapper:K({[`${i}-affix-wrapper-sm`]:b==="small",[`${i}-affix-wrapper-lg`]:b==="large",[`${i}-affix-wrapper-rtl`]:F==="rtl"},_),wrapper:K({[`${i}-group-rtl`]:F==="rtl"},_),groupWrapper:K({[`${i}-group-wrapper-sm`]:b==="small",[`${i}-group-wrapper-lg`]:b==="large",[`${i}-group-wrapper-rtl`]:F==="rtl",[`${i}-group-wrapper-${ce}`]:fe},ye(`${i}-group-wrapper`,p,j),_)})}))))});export{mt as I,nt as a,at as b,Ee as c,ft as g,Fe as t,dt as u};
